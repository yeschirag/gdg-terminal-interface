<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced SVG Cursor Follower</title>
    <style>
        body {
            background-color: #1a1a1a; /* Dark background to see the cursor better */
            color: #f0f0f0;
            font-family: sans-serif;
            min-height: 200vh;
            margin: 0;
            padding: 2rem;
            cursor: none; /* Hide the default system cursor */
        }
        #cursor-follower {
            position: fixed;
            z-index: 999;
            pointer-events: none;
            will-change: transform;
            opacity: 0; /* Hidden by default */
            transition: opacity 0.3s ease-in-out;
        }

        .cursor {
    width: 10px;
    height: 1.2em;
    background: var(--primary);
    display: inline-block;
    vertical-align: middle;
    animation: glitch-cursor 200ms infinite;
}
@keyframes glitch-cursor {
    0% { background: var(--primary); box-shadow: var(--glow); transform: translate(0, 0); }
    20% { background: var(--secondary); box-shadow: 0 0 5px var(--secondary); transform: translate(-1px, 1px); }
    40% { background: var(--primary); box-shadow: var(--glow); transform: translate(1px, -1px); }
    60% { background: transparent; box-shadow: none; }
    80% { background: var(--primary); box-shadow: var(--glow); transform: translate(1px, 1px); }
    100% { background: var(--primary); box-shadow: var(--glow); transform: translate(0, 0); }
}
    </style>
</head>
<body>

    <h1>Advanced Cursor Follower</h1>
    <p>Move your mouse around to see the smooth easing and rotation effect!</p>

    <div id="cursor-follower">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="44" viewBox="0 0 50 54" fill="none">
            <g filter="url(#filter0_d_91_7928)">
                <path d="M42.6817 41.1495L27.5103 6.79925C26.7269 5.02557 24.2082 5.02558 23.3927 6.79925L7.59814 41.1495C6.75833 42.9759 8.52712 44.8902 10.4125 44.1954L24.3757 39.0496C24.8829 38.8627 25.4385 38.8627 25.9422 39.0496L39.8121 44.1954C41.6849 44.8902 43.4884 42.9759 42.6817 41.1495Z" fill="white"></path>
                <path d="M43.7146 40.6933L28.5431 6.34306C27.3556 3.65428 23.5772 3.69516 22.3668 6.32755L6.57226 40.6778C5.3134 43.4156 7.97238 46.298 10.803 45.2549L24.7662 40.109C25.0221 40.0147 25.2999 40.0156 25.5494 40.1082L39.4193 45.254C42.2261 46.2953 44.9254 43.4347 43.7146 40.6933Z" stroke="black" stroke-width="2.25825"></path>
            </g>
            <defs>
                <filter id="filter0_d_91_7928" x="0.602397" y="0.952444" width="49.0584" height="52.428" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                    <feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dy="2.25825"></feOffset><feGaussianBlur stdDeviation="2.25825"></feGaussianBlur><feComposite in2="hardAlpha" operator="out"></feComposite><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"></feColorMatrix><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_91_7928"></feBlend><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_91_7928" result="shape"></feBlend>
                </filter>
            </defs>
        </svg>
    </div>

    <script>
        // --- NEW JAVASCRIPT LOGIC ---

        const cursorFollower = document.getElementById('cursor-follower');

        // Target positions for the cursor
        let mouseX = 0;
        let mouseY = 0;

        // Current positions of the follower (these will lag behind the target)
        let followerX = 0;
        let followerY = 0;
        
        // Previous positions to calculate velocity and angle
        let prevFollowerX = 0;
        let prevFollowerY = 0;

        // Easing factor for the smooth follow effect
        const easing = 0.1;

        // Variables for rotation and scaling
        let angle = 0;
        let scale = 1;

        // The animation loop function
        function animate() {
            // Make the follower move towards the mouse position
            followerX += (mouseX - followerX) * easing;
            followerY += (mouseY - followerY) * easing;

            // Calculate the difference in position from the last frame
            const dx = followerX - prevFollowerX;
            const dy = followerY - prevFollowerY;

            // Calculate the speed (distance moved)
            const speed = Math.sqrt(dx * dx + dy * dy);

            // Calculate the angle based on the direction of movement
            // Only update angle if there is movement
            if (speed > 0.1) {
              angle = Math.atan2(dy, dx) * (180 / Math.PI) + 90; // +90 degree offset to make the arrow point forward
            }
            
            // Calculate the scale based on speed. It will stretch up to 1.5x
            // The clamp function ensures the scale doesn't go below 1 or above 1.5
            const targetScale = Math.min(Math.max(1 + speed * 0.05, 1), 1.5);
            scale += (targetScale - scale) * easing; // Ease the scaling effect

            // Update the previous positions for the next frame
            prevFollowerX = followerX;
            prevFollowerY = followerY;

            // Apply all transformations to the cursor element
            cursorFollower.style.transform = `
                translate(${followerX}px, ${followerY}px) 
                rotate(${angle}deg) 
                scale(${scale})
            `;

            // Request the next frame to continue the animation
            requestAnimationFrame(animate);
        }

        // Start the animation loop
        animate();

        // Update mouse positions when the mouse moves
        window.addEventListener('mousemove', (event) => {
            mouseX = event.clientX;
            mouseY = event.clientY;
            
            // Make the cursor visible once the mouse enters the screen
            cursorFollower.style.opacity = '1';
        });
        
        // Hide the cursor when the mouse leaves the window
        window.addEventListener('mouseout', () => {
            cursorFollower.style.opacity = '0';
        });

    </script>

</body>
</html>